<!DOCTYPE html><html lang="en-us" id="twostream"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>TwoStream by CupOfTea696</title><base href="http://twostream.cupoftea.io"><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/app.css?cb=79a4a10e5dcc99daa5f83d42d21bfd62"></head><body> <nav class="nav"> <section class="nav/left"> <a href="" class="nav/item">TwoStream</a> </section> <section class="nav/right"> <a href="docs" class="nav/item">Documentation</a> <a href="docs/api" class="nav/item">API</a> </section> </nav><section class="main-content" id="docs-installation"><div class="body clearfix"><ol class="breadcrumb"><li class="breadcrumb/item"> <a href="">Home</a></li><li class="breadcrumb/item"> <a href="docs">Documentation</a></li><li class="breadcrumb/item --active">Installation</li></ol> <aside class="sidebar"> <nav><ul class="sidebar/nav"><li class="sidebar/nav/category">Getting Started</li><li class="sidebar/nav/item --active">Installation</li><li class="sidebar/nav/item"> <a href="docs/configuration">Configuration</a></li><li class="sidebar/nav/item"> <a href="docs/server">Running TwoStream</a></li><li class="sidebar/nav/category">The Basics</li><li class="sidebar/nav/item"> <a href="docs/routing">Routing</a></li><li class="sidebar/nav/item"> <a href="docs/controllers">Controllers</a></li><li class="sidebar/nav/item"> <a href="docs/requests">Requests</a></li><li class="sidebar/nav/item"> <a href="docs/responses">Responses</a></li><li class="sidebar/nav/category">Services</li><li class="sidebar/nav/item"> <a href="docs/exceptions">Error Handling</a></li><li class="sidebar/nav/item"> <a href="docs/events">Events</a></li><li class="sidebar/nav/item"> <a href="docs/twostream">TwoStream</a></li><li class="sidebar/nav/item"> <a href="docs/ws-session">WsSession</a></li></ul> </nav> </aside><main id="content" class="page"><h1 id="installation">Installation</h1><ul class="toc"><li class="toc/item"><a data-scrollto="install-composer">Install Composer</a></li><li class="toc/item"> <a data-scrollto="install-twostream">Install TwoStream</a><ul class="toc/level toc"><li class="toc/item"><a data-scrollto="install-via-composer">Install via Composer</a></li><li class="toc/item"><a data-scrollto="setting-up-twostream">Setting up TwoStream</a></li></ul></li><li class="toc/item"> <a data-scrollto="push-requirements">Push Requirements</a><ul class="toc/level toc"><li class="toc/item"><a data-scrollto="installing-zeromq">Installing ZeroMQ</a></li></ul></li></ul><h2 id="install-composer">Install Composer</h2><p>To install TwoStream, you will first need to install <a href="https://getcomposer.org/doc/00-intro.md">Composer</a> if you haven't already.</p><h2 id="install-twostream">Install TwoStream</h2><h3 id="install-via-composer">Install via Composer</h3><p>Before you start, you will have to add the repository below to your composer.json, because TwoStream currently depends on a slightly modified version of Ratchet, which I hope will be added in the 4.x release.</p><div class="highlight"><pre><code class="language-php" data-lang="php">    <span class="s2">"repositories"</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"type"</span><span class="o">:</span> <span class="s2">"vcs"</span><span class="p">,</span>
            <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"https://github.com/CupOfTea696/Ratchet"</span>
        <span class="p">}</span>
    <span class="p">],</span>
</code></pre></div><p>You can install TwoStream by simply requiring the package with <a href="https://getcomposer.org/doc/00-intro.md">Composer</a> inside your projects root. To do so, run the following commands:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>composer require cupoftea/twostream ~1.0
</code></pre></div><h3 id="setting-up-twostream">Setting up TwoStream</h3><p>You will need to add the following service providers to your <code>config/app.php</code>:</p><div class="highlight"><pre><code class="language-php" data-lang="php">    <span class="s1">'providers'</span> <span class="o">=&gt;</span> <span class="p">[</span>

        <span class="cm">/*</span>
<span class="cm">         * Laravel Framework Service Providers...</span>
<span class="cm">         */</span>

        <span class="s1">'Illuminate\Foundation\Providers\ArtisanServiceProvider'</span><span class="p">,</span>
        <span class="s1">'Illuminate\Auth\AuthServiceProvider'</span><span class="p">,</span>
        <span class="s1">'Illuminate\Bus\BusServiceProvider'</span><span class="p">,</span>

        <span class="o">...</span>

        <span class="s1">'CupOfTea\TwoStream\TwoStreamServiceProvider'</span><span class="p">,</span>

    <span class="p">],</span>
</code></pre></div><p>Though this step is optional, I do recommend adding the following Facade's in you <code>config/app.php</code> as well, because it makes TwoStream a lot easier to use and I will not supply documentation for use without the Facades. You can leave out the WsSession Facade if you do not need to access Session variables within your WebSocket Server.</p><div class="highlight"><pre><code class="language-php" data-lang="php">    <span class="s1">'aliases'</span> <span class="o">=&gt;</span> <span class="p">[</span>

        <span class="s1">'App'</span>       <span class="o">=&gt;</span> <span class="s1">'Illuminate\Support\Facades\App'</span><span class="p">,</span>
        <span class="s1">'Artisan'</span>   <span class="o">=&gt;</span> <span class="s1">'Illuminate\Support\Facades\Artisan'</span><span class="p">,</span>
        <span class="s1">'Auth'</span>      <span class="o">=&gt;</span> <span class="s1">'Illuminate\Support\Facades\Auth'</span><span class="p">,</span>

        <span class="o">...</span>

        <span class="s1">'TwoStream'</span> <span class="o">=&gt;</span> <span class="s1">'CupOfTea\TwoStream\Facades\TwoStream'</span><span class="p">,</span>
        <span class="s1">'WsRoute'</span>   <span class="o">=&gt;</span> <span class="s1">'CupOfTea\TwoStream\Facades\WsRoute'</span><span class="p">,</span>
        <span class="s1">'WsSession'</span> <span class="o">=&gt;</span> <span class="s1">'CupOfTea\TwoStream\Facades\WsSession'</span><span class="p">,</span>

    <span class="p">],</span>
</code></pre></div><p>Lastly, you will need to run the <code>twostream:install</code> command to publish and configure the required files. You won't be able to access any TwoStream functionality before you run this command.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>php artisan twostream:install
</code></pre></div><h2 id="push-requirements">Push Requirements</h2><p>In order to use TwoStream's Push functionality, you must have the ZeroMQ PHP extension installed.</p><h3 id="installing-zeromq">Installing ZeroMQ</h3><p>Go to the <a href="http://zeromq.org/intro:get-the-software">ZMQ website</a>, and copy the link to the latest stable release. Then on your server run the following commands:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>wget http://download.zeromq.org/zeromq-4.1.1.tar.gz <span class="c"># Use the latest release!</span>
<span class="nv">$ </span>tar -xvzf zeromq-4.1.1.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>zeromq-4.1.1
<span class="nv">$ </span>./configure
<span class="nv">$ </span>make
<span class="nv">$ </span>sudo make install
<span class="nv">$ </span>sudo ldconfig <span class="c"># On Linux only</span>
</code></pre></div><p>Next, you need to install the PHP Language binding.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash">pecl install zmq-beta
</code></pre></div><p>Next you need to add the extension to your php.ini. With PHP-FPM this means adding a symlink.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>ln -s /etc/php5/mods-available/zmq.ini /etc/php5/fpm/conf.d/20-zmq.ini
<span class="nv">$ </span>ln -s /etc/php5/mods-available/zmq.ini /etc/php5/cli/conf.d/20-zmq.ini
</code></pre></div><p>Lastly, you need to add the react/zmq dependency to your project's composer.json file.</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>composer require react/zmq 0.3.*
</code></pre></div> </main></div> <footer class="site-footer"> <span class="site-footer-owner"> <a href="https://github.com/CupOfTea696/TwoStream/">TwoStream</a> is maintained by <a href="https://github.com/CupOfTea696">CupOfTea696</a>. </span> </footer> </section> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="/assets/js/app.js?cb=d735cbd9e60a21104256df7ee8382009"></script></body></html>