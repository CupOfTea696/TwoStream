<!DOCTYPE html><html lang="en-us" id="twostream"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>TwoStream by CupOfTea696</title><base href="http://twostream.cupoftea.io"><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/app.css?cb=79a4a10e5dcc99daa5f83d42d21bfd62"></head><body> <nav class="nav"> <section class="nav/left"> <a href="" class="nav/item">TwoStream</a> </section> <section class="nav/right"> <a href="docs" class="nav/item">Documentation</a> <a href="docs/api" class="nav/item">API</a> </section> </nav><section class="main-content" id="docs-configuration"><div class="body clearfix"><ol class="breadcrumb"><li class="breadcrumb/item"> <a href="">Home</a></li><li class="breadcrumb/item"> <a href="docs">Documentation</a></li><li class="breadcrumb/item --active">Configuration</li></ol> <aside class="sidebar"> <nav><ul class="sidebar/nav"><li class="sidebar/nav/category">Getting Started</li><li class="sidebar/nav/item"> <a href="docs/installation">Installation</a></li><li class="sidebar/nav/item --active">Configuration</li><li class="sidebar/nav/item"> <a href="docs/server">Running TwoStream</a></li><li class="sidebar/nav/category">The Basics</li><li class="sidebar/nav/item"> <a href="docs/routing">Routing</a></li><li class="sidebar/nav/item"> <a href="docs/controllers">Controllers</a></li><li class="sidebar/nav/item"> <a href="docs/requests">Requests</a></li><li class="sidebar/nav/item"> <a href="docs/responses">Responses</a></li><li class="sidebar/nav/category">Services</li><li class="sidebar/nav/item"> <a href="docs/exceptions">Error Handling</a></li><li class="sidebar/nav/item"> <a href="docs/events">Events</a></li><li class="sidebar/nav/item"> <a href="docs/twostream">TwoStream</a></li><li class="sidebar/nav/item"> <a href="docs/ws-session">WsSession</a></li></ul> </nav> </aside><main id="content" class="page"><h1 id="configuration">Configuration</h1><ul class="toc"><li class="toc/item"><a data-scrollto="publishing-the-configuration">Publishing the Configuration</a></li><li class="toc/item"> <a data-scrollto="configuring-twostream">Configuring TwoStream</a><ul class="toc/level toc"><li class="toc/item"><a data-scrollto="response-settings">Response Settings</a></li><li class="toc/item"><a data-scrollto="websocket-settings">WebSocket Settings</a></li><li class="toc/item"><a data-scrollto="push-settings">Push Settings</a></li><li class="toc/item"><a data-scrollto="legacy-settings">Legacy Settings</a></li></ul></li></ul><h2 id="publishing-the-configuration">Publishing the Configuration</h2><p>To publish the TwoStream configuration file in your Application, run the following command</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>php artisan vendor:publish --provider<span class="o">=</span><span class="s2">"CupOfTea\TwoStream\TwoStreamServiceProvider"</span> --tag<span class="o">=</span><span class="s2">"config"</span>
</code></pre></div><p>Once you have done that, you can find the TwoStream configuration inside <code>config/twostream.php</code>. This step is optional, and if you know which settings you want to change, you can just create the <code>config/twostream.php</code> file yourself and place those settings inside.</p><h2 id="configuring-twostream">Configuring TwoStream</h2><p>You only need to overwrite the settings you want to change. You can remove any items where you want to use the default settings from your Application's TwoStream Configuration file. Below is a list of all avialable settings.</p><h3 id="response-settings">Response Settings</h3><p>These are the default settings for how TwoStream should handle responses:</p><ul><li> <code>response.recipient</code>: To which clients the Controller Response should be sent to if no client is specified. By default this is set to <code>'requestee'</code> so you don't accidentally send sensitive data to all users. You can modify this setting as you like. This setting supports the following options:<ul><li> <code>'all'</code>: The response will be sent to all subscribed Clients.</li><li> <code>'except'</code>: The response will be sent to all subscribed Clients except the Client that made the request.</li><li> <code>'requestee'</code>: The response will be sent to the Client that made the request.</li></ul></li><li> <code>response.rpc.enabled</code>: Enable/Disable RPCs for your Application. This setting is disabled by default.</li><li> <code>response.rpc.success</code>: Default response message for a successful RPC.</li><li> <code>response.rpc.error.enabled</code>: Default error message for when the Procedure is not found.</li><li> <code>reponse.rpc.error.disabled</code>: Default error message for when RPC is disabled.</li></ul><h3 id="websocket-settings">WebSocket Settings</h3><p>These are the settings for the TwoStream WebSocket Server:</p><ul><li> <code>websocket.port</code>: Default port on which the React Socket Server will listen for incoming connections. This option can also be set in the artisan command. More info on how to do that in the <a href="http://twostream.cupoftea.io/docs/server/">Server Documentation</a>. The default port is <code>1111</code>.</li></ul><h3 id="push-settings">Push Settings</h3><p>These are the settings for pushing messages from Server to Client:</p><ul><li> <code>push.enabled</code>: Enable/Disable push messages from your Server. This setting is disabled by default and <strong>ZeroMQ PHP Extension</strong> to work. More info on this can be found under <a href="http://twostream.cupoftea.io/docs/installation/#push-requirements">Installation / Push Requirements</a>.</li><li> <code>push.port</code>: The default port for ZeroMQ Connections. This is used to we can connect to all Socket connections and broadcast messages from the back-end.</li></ul><h3 id="legacy-settings">Legacy Settings</h3><ul><li> <code>flash.allowed</code>: Allow legacy browsers to connect with the <a href="https://github.com/gimite/web-socket-js">websocket polyfill</a>.</li><li> <code>flash.port</code>: The web-socket-js fallback requires a Flash Socket Policy file. This setting allows you to change the port on which the Flash Policy is located. Don't forget to tell the Client where the polici is located. For example in JS: <code>WebSocket.loadFlashPolicyFile("xmlsocket://myhost.com:843");</code> This will cause a connection delay of about 2-3 seconds.</li></ul> </main></div> <footer class="site-footer"> <span class="site-footer-owner"> <a href="https://github.com/CupOfTea696/TwoStream/">TwoStream</a> is maintained by <a href="https://github.com/CupOfTea696">CupOfTea696</a>. </span> </footer> </section> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="/assets/js/app.js?cb=d735cbd9e60a21104256df7ee8382009"></script></body></html>