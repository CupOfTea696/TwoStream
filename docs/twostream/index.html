<!DOCTYPE html><html lang="en-us" id="twostream"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>TwoStream by CupOfTea696</title><base href="http://twostream.cupoftea.io"><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/app.css?cb=79a4a10e5dcc99daa5f83d42d21bfd62"></head><body> <nav class="nav"> <section class="nav/left"> <a href="" class="nav/item">TwoStream</a> </section> <section class="nav/right"> <a href="docs" class="nav/item">Documentation</a> <a href="docs/api" class="nav/item">API</a> </section> </nav><section class="main-content" id="docs-twostream"><div class="body clearfix"><ol class="breadcrumb"><li class="breadcrumb/item"> <a href="">Home</a></li><li class="breadcrumb/item"> <a href="docs">Documentation</a></li><li class="breadcrumb/item --active">TwoStream</li></ol> <aside class="sidebar"> <nav><ul class="sidebar/nav"><li class="sidebar/nav/category">Getting Started</li><li class="sidebar/nav/item"> <a href="docs/installation">Installation</a></li><li class="sidebar/nav/item"> <a href="docs/configuration">Configuration</a></li><li class="sidebar/nav/item"> <a href="docs/server">Running TwoStream</a></li><li class="sidebar/nav/category">The Basics</li><li class="sidebar/nav/item"> <a href="docs/routing">Routing</a></li><li class="sidebar/nav/item"> <a href="docs/controllers">Controllers</a></li><li class="sidebar/nav/item"> <a href="docs/requests">Requests</a></li><li class="sidebar/nav/item"> <a href="docs/responses">Responses</a></li><li class="sidebar/nav/category">Services</li><li class="sidebar/nav/item"> <a href="docs/exceptions">Error Handling</a></li><li class="sidebar/nav/item"> <a href="docs/events">Events</a></li><li class="sidebar/nav/item --active">TwoStream</li><li class="sidebar/nav/item"> <a href="docs/ws-session">WsSession</a></li></ul> </nav> </aside><main id="content" class="page"><h1 id="twostream">TwoStream</h1><ul class="toc"><li class="toc/item"><a data-scrollto="push">Push</a></li><li class="toc/item"><a data-scrollto="stop">Stop</a></li></ul><h2 id="push">Push</h2><p>TwoStream allows you to push messages from your server to one or more Clients. You could do this on certain events in a cronjob, at the end of a queued task, or anywhere else you see fit. Pushing messages to a Client happens via the TwoStream Facade. Please note that in order to receive that data, the Client needs to be subscribed to the topic (or route) you push to. The recipients can be specified by either a SessionID or an array of Session ID's.</p><p>Pushing messages from your server requires the <strong>ZeroMQ PHP Extension</strong> to be installed. More info on this can be found under <a href="http://twostream.cupoftea.io/docs/installation/#push-requirements">Installation / Push Requirements</a>.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="c1">// Push data to all Clients</span>
<span class="nx">TwoStream</span><span class="o">::</span><span class="na">push</span><span class="p">(</span><span class="s1">'queued/task/complete'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>

<span class="c1">// Push data to specific Client(s)</span>
<span class="nx">TwoStream</span><span class="o">::</span><span class="na">push</span><span class="p">(</span><span class="s1">'queued/task/complete'</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="p">[</span><span class="nv">$aUser</span><span class="o">-&gt;</span><span class="na">sessionId</span><span class="p">,</span> <span class="nx">Auth</span><span class="o">::</span><span class="na">user</span><span class="p">()]);</span>
</code></pre></div><h2 id="stop">Stop</h2><p>The TwoStream facade also contains a <code>stop</code> method, to stop the server from your code. Make sure you don't put this in a place where unauthorized users could trigger this, especially if your application heavily relies on WebSockets.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">TwoStream</span><span class="o">::</span><span class="na">stop</span><span class="p">();</span>
</code></pre></div> </main></div> <footer class="site-footer"> <span class="site-footer-owner"> <a href="https://github.com/CupOfTea696/TwoStream/">TwoStream</a> is maintained by <a href="https://github.com/CupOfTea696">CupOfTea696</a>. </span> </footer> </section> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="/assets/js/app.js?cb=d735cbd9e60a21104256df7ee8382009"></script></body></html>